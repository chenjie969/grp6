<?xml version="1.0" encoding="UTF-8" standalone="no"?><jatools Class="jatools.ReportDocument" Name="jatools report template"><VariableContext/><Page><Children ItemClass="PagePanel"><Item0><Width>1659</Width><Height>137</Height><Children><Item0 Class="Label"><Text>担保逾期项目明细月报表</Text><Font><Face>宋体</Face><Style>1</Style><Size>36</Size></Font><HorizontalAlignment>1</HorizontalAlignment><X>522</X><Y>18</Y><Width>509</Width><Height>59</Height></Item0><Item1 Class="Label"><Text>金额单位：万元</Text><HorizontalAlignment>2</HorizontalAlignment><X>1489</X><Y>110</Y><Width>110</Width><Height>23</Height></Item1><Item2 Class="Label"><Text>截止年月：</Text><HorizontalAlignment>2</HorizontalAlignment><X>689</X><Y>94</Y><Width>80</Width><Height>23</Height></Item2><Item3 Class="Text"><Variable>=if(has(endyearmonthsql)) return endyearmonthsql;else return ($today+"").substring(0,7);</Variable><X>769</X><Y>94</Y><Width>89</Width><Height>23</Height></Item3></Children><Type>100</Type></Item0><Item1><Y>713</Y><Width>1659</Width><Height>16</Height><Type>103</Type></Item1><Item2><Y>137</Y><Width>1659</Width><Height>576</Height><Children ItemClass="Table"><Item0><NodePath>tab_detail</NodePath><Border><StyleText>border:1.0px solid #000000</StyleText></Border><X>28</X><Y>18</Y><Children><Item0 Class="Label"><Text>报送机构</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>1</Col></Cell></Item0><Item1 Class="Label"><Text>承保地区</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>2</Col></Cell></Item1><Item2 Class="Label"><Text>属地划分</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>3</Col></Cell></Item2><Item3 Class="Label"><Text>项目名称</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>5</Col></Cell></Item3><Item4 Class="Label"><Text>合同金额</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>6</Col></Cell></Item4><Item5 Class="Label"><Text>合作放款方</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>8</Col></Cell></Item5><Item6 Class="Label"><Text>合作子机构</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>9</Col></Cell></Item6><Item7 Class="Label"><Text>资金方</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>10</Col></Cell></Item7><Item8 Class="Label"><Text>资金方子机构</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>11</Col></Cell></Item8><Item9 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><RowSpan>3</RowSpan><ColSpan>19</ColSpan></Cell><Children><Item0 Class="Label"><Border/><Cell><Row>3</Row><Col>8</Col></Cell></Item0><Item1 Class="Label"><Border/><Cell><Row>3</Row><Col>9</Col></Cell></Item1><Item2 Class="Label"><Border/><Cell><Row>3</Row><Col>10</Col></Cell></Item2><Item3 Class="Label"><Border/><Cell><Row>3</Row><Col>11</Col></Cell></Item3><Item4 Class="Label"><Border/><Cell><Row>3</Row><Col>17</Col></Cell></Item4><Item5 Class="Label"><Border/><Cell><Row>3</Row><Col>18</Col></Cell></Item5><Item6 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><RowSpan>2</RowSpan><ColSpan>19</ColSpan></Cell><Children><Item0 Class="Label"><Border/><Cell><Row>2</Row><Col>8</Col></Cell></Item0><Item1 Class="Label"><Border/><Cell><Row>2</Row><Col>9</Col></Cell></Item1><Item2 Class="Label"><Border/><Cell><Row>2</Row><Col>10</Col></Cell></Item2><Item3 Class="Label"><Border/><Cell><Row>2</Row><Col>11</Col></Cell></Item3><Item4 Class="Label"><Border/><Cell><Row>2</Row><Col>17</Col></Cell></Item4><Item5 Class="Label"><Border/><Cell><Row>2</Row><Col>18</Col></Cell></Item5><Item6 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><ColSpan>19</ColSpan></Cell><Children ItemClass="Text"><Item0><Variable>=index_dic_operation.name{$oprationCompanyID}</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>united-level:1;</PrintStyle><Cell><Row>1</Row><Col>1</Col><RowSpan>3</RowSpan></Cell></Item0><Item1><Variable>=index_dic_guarantyOrg.name{$hostAreaID}</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>united-level:2;</PrintStyle><Cell><Row>1</Row><Col>2</Col><RowSpan>2</RowSpan></Cell></Item1><Item2><Variable>=$.attributionName</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>3</Col></Cell></Item2><Item3><Variable>=$.projectName</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>5</Col></Cell></Item3><Item4><Variable>=$.loadSum</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>6</Col></Cell></Item4><Item5><Variable>=$.bankName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>8</Col></Cell></Item5><Item6><Variable>=$.subBankName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>9</Col></Cell></Item6><Item7><Variable>=$.fundChinese</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>10</Col></Cell></Item7><Item8><Variable>=$.fundName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>11</Col></Cell></Item8><Item9><Variable>=$.beforeAManName</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>17</Col></Cell></Item9><Item10><Variable>=$.beforeBManName</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>18</Col></Cell></Item10><Item11><Variable>=$.overSum</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>7</Col></Cell></Item11><Item12><Variable>=$.delayEndDate</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DateFormat"/><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>12</Col></Cell></Item12><Item13><Variable>=$.gzwRiskLevel</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>16</Col></Cell></Item13><Item14><Variable>=$.relationMainName</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>4</Col></Cell></Item14><Item15><Variable>=$.position+1</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>1</Row><Col>0</Col></Cell></Item15><Item16><Variable>=$.disposeRemark</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;border-bottom:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>1</Row><Col>14</Col></Cell></Item16><Item17><Variable>=$.replaceOverDate</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;border-bottom:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>1</Row><Col>13</Col></Cell></Item17><Item18><Variable>=$.isUrgeLetter</Variable><Border><StyleText>border-top:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;border-bottom:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>1</Row><Col>15</Col></Cell></Item18></Children><NodePath>Row</NodePath></Item6><Item7 Class="Label"><Border/><Cell><Row>2</Row><Col>12</Col></Cell></Item7><Item8 Class="Label"><Border/><Cell><Row>2</Row><Col>13</Col></Cell></Item8><Item9 Class="Label"><Border/><Cell><Row>2</Row><Col>14</Col></Cell></Item9><Item10 Class="Label"><Border/><Cell><Row>2</Row><Col>15</Col></Cell></Item10><Item11 Class="Label"><Border/><Cell><Row>2</Row><Col>16</Col></Cell></Item11><Item12 Class="Text"><Variable>=index_dic_guarantyOrg.name{$hostAreaID}+"小计："</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>3</Col><ColSpan>3</ColSpan></Cell></Item12><Item13 Class="Text"><Variable>=$.loadSum.sum()</Variable><Border><StyleText>border-top:1.0px solid #000000;border-right:1.0px solid #000000;border-bottom:1.0px solid #000000;</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>6</Col></Cell></Item13><Item14 Class="Text"><Variable>=$.overSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>7</Col></Cell></Item14><Item15 Class="Label"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>2</Row><Col>0</Col></Cell></Item15></Children><NodePath>hostAreaID</NodePath></Item6><Item7 Class="Label"><Border/><Cell><Row>3</Row><Col>12</Col></Cell></Item7><Item8 Class="Label"><Border/><Cell><Row>3</Row><Col>13</Col></Cell></Item8><Item9 Class="Label"><Border/><Cell><Row>3</Row><Col>14</Col></Cell></Item9><Item10 Class="Label"><Border/><Cell><Row>3</Row><Col>15</Col></Cell></Item10><Item11 Class="Label"><Border/><Cell><Row>3</Row><Col>16</Col></Cell></Item11><Item12 Class="Label"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>3</Row><Col>0</Col></Cell></Item12><Item13 Class="Text"><Variable>=index_dic_operation.name{$oprationCompanyID}+"小计"</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>2</Col><ColSpan>4</ColSpan></Cell></Item13><Item14 Class="Text"><Variable>=$.loadSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>6</Col></Cell></Item14><Item15 Class="Text"><Variable>=$.overSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>7</Col></Cell></Item15></Children><NodePath>oprationCompanyID</NodePath></Item9><Item10 Class="Label"><Border/><Cell><Row>4</Row><Col>8</Col></Cell></Item10><Item11 Class="Label"><Border/><Cell><Row>4</Row><Col>9</Col></Cell></Item11><Item12 Class="Label"><Border/><Cell><Row>4</Row><Col>10</Col></Cell></Item12><Item13 Class="Label"><Border/><Cell><Row>4</Row><Col>11</Col></Cell></Item13><Item14 Class="Label"><Border/><Cell><Row>4</Row><Col>17</Col></Cell></Item14><Item15 Class="Label"><Border/><Cell><Row>4</Row><Col>18</Col></Cell></Item15><Item16 Class="Label"><Text>关联系</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>4</Col></Cell></Item16><Item17 Class="Label"><Text>逾期金额</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>7</Col></Cell></Item17><Item18 Class="Label"><Text>到期日</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>12</Col></Cell></Item18><Item19 Class="Label"><Border/><Cell><Row>4</Row><Col>12</Col></Cell></Item19><Item20 Class="Label"><Text>代偿到期日</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>13</Col></Cell></Item20><Item21 Class="Label"><Text>反担保措施</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>14</Col></Cell></Item21><Item22 Class="Label"><Text>是否有催告函</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>15</Col></Cell></Item22><Item23 Class="Label"><Border/><Cell><Row>4</Row><Col>13</Col></Cell></Item23><Item24 Class="Label"><Border/><Cell><Row>4</Row><Col>14</Col></Cell></Item24><Item25 Class="Label"><Border/><Cell><Row>4</Row><Col>15</Col></Cell></Item25><Item26 Class="Label"><Text>五级分类（国资委）</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>16</Col></Cell></Item26><Item27 Class="Label"><Border/><Cell><Row>4</Row><Col>16</Col></Cell></Item27><Item28 Class="Label"><Text>序号</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>0</Col></Cell></Item28><Item29 Class="Label"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>4</Row><Col>0</Col></Cell></Item29><Item30 Class="Label"><Text>b角</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>18</Col></Cell></Item30><Item31 Class="Label"><Text>a角</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>0</Row><Col>17</Col></Cell></Item31><Item32 Class="Label"><Text>担保集团总计：</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>4</Row><Col>1</Col><ColSpan>5</ColSpan></Cell></Item32><Item33 Class="Text"><Variable>=$.loadSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>4</Row><Col>6</Col></Cell></Item33><Item34 Class="Text"><Variable>=$.overSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>4</Row><Col>7</Col></Cell></Item34></Children><ColumnWidths>60,80,80,80,60,173,96,90,66,60,80,80,86,75,60,84,69,51,42</ColumnWidths><RowHeights>34,33,30,27,27</RowHeights></Item0></Children><Type>102</Type></Item2></Children><PageFormat><Width>1677</Width><Height>765</Height><Left>9</Left><Top>18</Top><Right>9</Right><Bottom>18</Bottom></PageFormat></Page><NodeSource><Children ItemClass="DatasetNodeSource"><Item0><Children ItemClass="GroupNodeSource"><Item0><Children ItemClass="GroupNodeSource"><Item0><Children ItemClass="RowNodeSource"><Item0/></Children><Group><Field>hostAreaID</Field></Group></Item0></Children><Group><Field>oprationCompanyID</Field></Group></Item0></Children><Reader Class="SqlReader"><Name>tab_detail</Name><Sql>-- sql  start running...
SELECT  pa.`guarantyOrgName`,
     pa.guarantyOrgID,
     pa.`oprationCompanyName`,
     pa.oprationCompanyID,
     pa.`attributionName`, 
     pp.projectName,
     pp.loadSum,
     pp.`bankName`,
     pp.`subBankName`,
     pa.fundChinese,
     pa.fundName,
     pa.`fundSource`,
     pa.`hostAreaID`,
     pa.`hostAreaName`,
     pp.`delayEndDate`,
     pp.replaceOverDate,
     tab3.disposeRemark,
     pp.loadSum-
	(SELECT IFNULL(SUM(replaceCapitalSum) ,0) replaceCapitalSum from pro_replace WHERE project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(replaceDate,'%Y-%m') &lt;='"+endyearmonthsql+"'"):""} ) -
	(SELECT IFNULL(SUM(payCapitalSum) ,0) payCapitalSum from pro_factpay where  project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(payDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} )-
	(SELECT IFNULL(SUM(creditor_sum) ,0) creditorSum from pro_creditor where  project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(creditor_date,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} )  as overSum,
     pp.`amanName`,
     pp.`bmanName`,
     pp.beforeAManName,
     pp.beforeBManName,
     pa.`fundType`,
     cc.`gzwRiskLevel`,
     cc.`relationMainName`,
     CASE pp.isUrgeLetter
     WHEN "1" THEN "是"
     WHEN "0" THEN "否"
     else "未知"
     END AS isUrgeLetter
 FROM pro_project pp
LEFT JOIN (SELECT CONCAT(po.disposeRemark) AS disposeRemark,po.apply_ID FROM pro_optguaranty po 
 WHERE 1=1 GROUP BY po.apply_ID) tab3 ON tab3.apply_ID = pp.`apply_ID`
 LEFT JOIN pro_apply pa ON pa.`apply_ID`=pp.`apply_ID`
 LEFT JOIN crm_client cc ON cc.`client_ID`=pa.`client_ID`
 WHERE pp.`busiClass`='01' 
 AND ( (pp.isOver = 1  ${has(endyearmonthsql)?(" and DATE_FORMAT(pp.overDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} ) or (pp.finishDate is NULL and ${has(endyearmonthsql)?("  DATE_FORMAT(pp.delayEndDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):" DATE_FORMAT(pp.delayEndDate,'%Y-%m')&lt;=now()"}) or pp.finishDate &gt; pp.overDate)
${has(endyearmonthsql)?(" and DATE_FORMAT(pp.reportDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""}
${has(wheresql)?(" and wheresql='"+wheresql+"'"):""}
${has(dataJurisdictionSql)?(dataJurisdictionSql):""}
ORDER BY pp.projectName asc

-- sql over ...</Sql><Description>-- sql  start running...
SELECT  pa.`guarantyOrgName`,
     pa.guarantyOrgID,
     pa.`oprationCompanyName`,
     pa.oprationCompanyID,
     pa.`attributionName`, 
     pp.projectName,
     pp.loadSum,
     pp.`bankName`,
     pp.`subBankName`,
     pa.fundChinese,
     pa.fundName,
     pa.`fundSource`,
     pa.`hostAreaID`,
     pa.`hostAreaName`,
     pp.`delayEndDate`,
     pp.replaceOverDate,
     tab3.disposeRemark,
     pp.loadSum-
	(SELECT IFNULL(SUM(replaceCapitalSum) ,0) replaceCapitalSum from pro_replace WHERE project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(replaceDate,'%Y-%m') &lt;='"+endyearmonthsql+"'"):""} ) -
	(SELECT IFNULL(SUM(payCapitalSum) ,0) payCapitalSum from pro_factpay where  project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(payDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} )-
	(SELECT IFNULL(SUM(creditor_sum) ,0) creditorSum from pro_creditor where  project_ID=pp.project_ID  ${has(endyearmonthsql)?("and  DATE_FORMAT(creditor_date,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} )  as overSum,
     pp.`amanName`,
     pp.`bmanName`,
     pp.beforeAManName,
     pp.beforeBManName,
     pa.`fundType`,
     cc.`gzwRiskLevel`,
     cc.`relationMainName`,
     CASE pp.isUrgeLetter
     WHEN "1" THEN "是"
     WHEN "0" THEN "否"
     else "未知"
     END AS isUrgeLetter
 FROM pro_project pp
LEFT JOIN (SELECT CONCAT(po.disposeRemark) AS disposeRemark,po.apply_ID FROM pro_optguaranty po 
 WHERE 1=1 GROUP BY po.apply_ID) tab3 ON tab3.apply_ID = pp.`apply_ID`
 LEFT JOIN pro_apply pa ON pa.`apply_ID`=pp.`apply_ID`
 LEFT JOIN crm_client cc ON cc.`client_ID`=pa.`client_ID`
 WHERE pp.`busiClass`='01' 
 AND ( (pp.isOver = 1  ${has(endyearmonthsql)?(" and DATE_FORMAT(pp.overDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""} ) or (pp.finishDate is NULL and ${has(endyearmonthsql)?("  DATE_FORMAT(pp.delayEndDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):" DATE_FORMAT(pp.delayEndDate,'%Y-%m')&lt;=now()"}) or pp.finishDate &gt; pp.overDate)
${has(endyearmonthsql)?(" and DATE_FORMAT(pp.reportDate,'%Y-%m')&lt;='"+endyearmonthsql+"'"):""}
${has(wheresql)?(" and wheresql='"+wheresql+"'"):""}
${has(dataJurisdictionSql)?(dataJurisdictionSql):""}
ORDER BY pp.projectName asc

-- sql over ...</Description><Connection><Driver>${property("proxool.driverClassName")}</Driver><User>${property("proxool.username")}</User><Password>${property("proxool.password")}</Password><Url>${property("proxool.url")}</Url></Connection></Reader><TagName>tab_detail</TagName></Item0><Item1><Children ItemClass="IndexNodeSource"><Item0><IndexFields Len="1">id</IndexFields><TagName>index_dic_operation</TagName></Item0></Children><Reader Class="SqlReader"><Name>dic_operationCompanyName</Name><Sql>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = '456d03e9cd634a4ab1158492c23510bf'  </Sql><Description>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = '456d03e9cd634a4ab1158492c23510bf'  </Description><Connection><Driver>${property("proxool.driverClassName")}</Driver><User>${property("proxool.username")}</User><Password>${property("proxool.password")}</Password><Url>${property("proxool.url")}</Url></Connection></Reader><IndexFields Len="1">id</IndexFields><TagName>dic_operationCompanyName</TagName></Item1><Item2><Children ItemClass="IndexNodeSource"><Item0><IndexFields Len="1">id</IndexFields><TagName>index_dic_guarantyOrg</TagName></Item0></Children><Reader Class="SqlReader"><Name>dic_guarantyOrg</Name><Sql>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = 'be8ae49cd7b944b6ad20743671f1d964'  </Sql><Description>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = 'be8ae49cd7b944b6ad20743671f1d964'  </Description><Connection><Driver>${property("proxool.driverClassName")}</Driver><User>${property("proxool.username")}</User><Password>${property("proxool.password")}</Password><Url>${property("proxool.url")}</Url></Connection></Reader><IndexFields Len="1">id</IndexFields><TagName>dic_guarantyOrg</TagName></Item2></Children></NodeSource></jatools>