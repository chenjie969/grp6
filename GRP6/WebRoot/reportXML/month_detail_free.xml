<?xml version="1.0" encoding="UTF-8" standalone="no"?><jatools Class="jatools.ReportDocument" Name="jatools report template"><VariableContext/><Page><Children ItemClass="PagePanel"><Item0><Width>1863</Width><Height>137</Height><Children><Item0 Class="Label"><Text>担保业务还款明细月报表</Text><Font><Face>宋体</Face><Style>1</Style><Size>36</Size></Font><HorizontalAlignment>1</HorizontalAlignment><X>603</X><Y>14</Y><Width>656</Width><Height>71</Height></Item0><Item1 Class="Text"><Variable>=if(has(enddatesql)) return enddatesql;else return $today;</Variable><X>992</X><Y>99</Y><Width>83</Width><Height>23</Height></Item1><Item2 Class="Label"><Text>统计期间:</Text><HorizontalAlignment>2</HorizontalAlignment><X>839</X><Y>99</Y><Width>65</Width><Height>23</Height></Item2><Item3 Class="Label"><Text>金额单位：万元</Text><HorizontalAlignment>2</HorizontalAlignment><X>1745</X><Y>113</Y><Width>110</Width><Height>17</Height></Item3><Item4 Class="Label"><Text>至</Text><HorizontalAlignment>1</HorizontalAlignment><X>969</X><Y>99</Y><Width>23</Width><Height>23</Height></Item4><Item5 Class="Text"><Variable>=if(has(begindatesql)) return begindatesql;</Variable><X>904</X><Y>99</Y><Width>65</Width><Height>23</Height></Item5></Children><Type>100</Type></Item0><Item1><Y>751</Y><Width>1863</Width><Height>19</Height><Type>103</Type></Item1><Item2><Y>137</Y><Width>1863</Width><Height>614</Height><Children ItemClass="Table"><Item0><X>14</X><Y>2</Y><Children><Item0 Class="Label"><Text>序号</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>0</Col></Cell></Item0><Item1 Class="Label"><Text>承保机构</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>1</Col></Cell></Item1><Item2 Class="Label"><Text>承办公司</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>3</Col></Cell></Item2><Item3 Class="Label"><Text>承办地市</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>4</Col></Cell></Item3><Item4 Class="Label"><Text>合作子机构</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>9</Col></Cell></Item4><Item5 Class="Label"><Text>起始日期</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>12</Col></Cell></Item5><Item6 Class="Label"><Text>到期日期</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>13</Col></Cell></Item6><Item7 Class="Label"><Text>实际还款日期</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>14</Col></Cell></Item7><Item8 Class="Label"><Text>A角</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>16</Col></Cell></Item8><Item9 Class="Label"><Text>B角</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>17</Col></Cell></Item9><Item10 Class="Label"><Text>还款金额</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>10</Col></Cell></Item10><Item11 Class="Label"><Text>本笔尚未解保余额</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>11</Col></Cell></Item11><Item12 Class="Label"><Text>说明</Text><Border/><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>15</Col></Cell></Item12><Item13 Class="Label"><Text>关联系</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>5</Col></Cell></Item13><Item14 Class="Label"><Text>项目名称</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>6</Col></Cell></Item14><Item15 Class="Label"><Text>担保金额</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>7</Col></Cell></Item15><Item16 Class="Label"><Text>合作放款方</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>8</Col></Cell></Item16><Item17 Class="Label"><Text>地区</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>print-mode:everypage;visible:true;new-page-x:100%;new-page-y:100%;crosstab-top-header-visible:everypage;crosstab-left-header-visible:everypage;</PrintStyle><Cell><Row>0</Row><Col>2</Col></Cell></Item17><Item18 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><RowSpan>3</RowSpan><ColSpan>18</ColSpan></Cell><Children><Item0 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><RowSpan>2</RowSpan><ColSpan>18</ColSpan></Cell><Children><Item0 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>9</Col></Cell></Item0><Item1 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>12</Col></Cell></Item1><Item2 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>13</Col></Cell></Item2><Item3 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>14</Col></Cell></Item3><Item4 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>16</Col></Cell></Item4><Item5 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>17</Col></Cell></Item5><Item6 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>0</Col></Cell></Item6><Item7 Class="Text"><Variable>=$.payCapitalSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>10</Col></Cell></Item7><Item8 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>11</Col></Cell></Item8><Item9 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>15</Col></Cell></Item9><Item10 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>2</Row><Col>8</Col></Cell></Item10><Item11 Class="Text"><Variable>=$.loadSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Cell><Row>2</Row><Col>7</Col></Cell></Item11><Item12 Class="Text"><Variable>=index_dic_guaranty.name{$guarantyOrgID}+"小计"</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>2</Row><Col>2</Col><ColSpan>5</ColSpan></Cell></Item12><Item13 Class="RowPanel"><Cell><Row>1</Row><Col>0</Col><ColSpan>18</ColSpan></Cell><Children ItemClass="Text"><Item0><Variable>=$.position + 1</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>0</Col></Cell></Item0><Item1><Variable>=index_dic_guaranty.name{$guarantyOrgID}</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>united-level:1;auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>1</Col><RowSpan>2</RowSpan></Cell></Item1><Item2><Variable>=$.hostAreaName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><PrintStyle>auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>4</Col></Cell></Item2><Item3><Variable>=$.delayBeginDate</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DateFormat"/><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>12</Col></Cell></Item3><Item4><Variable>=$.delayEndDate</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DateFormat"/><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>13</Col></Cell></Item4><Item5><Variable>=$.payDate</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DateFormat"/><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>14</Col></Cell></Item5><Item6><Variable>=$.beforeAManName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>16</Col></Cell></Item6><Item7><Variable>=$.beforeBManName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>17</Col></Cell></Item7><Item8><Variable>=$.subBankName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>9</Col></Cell></Item8><Item9><Variable>=$.payCapitalSum</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>10</Col></Cell></Item9><Item10><Variable>=$.remainSUM</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>11</Col></Cell></Item10><Item11><Variable>=$.remark</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>15</Col></Cell></Item11><Item12><Variable>=$.relationMainName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>5</Col></Cell></Item12><Item13><Variable>=$.projectName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>6</Col></Cell></Item13><Item14><Variable>=$.loadSum</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>7</Col></Cell></Item14><Item15><Variable>=$.bankName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>1</Row><Col>8</Col></Cell></Item15><Item16><Variable>=$.attributionName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><PrintStyle>united-level:2;auto-size:height;</PrintStyle><Cell><Row>1</Row><Col>2</Col></Cell></Item16><Item17><Variable>=$.oprationCompanyName</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>1</Row><Col>3</Col></Cell></Item17></Children><NodePath>Row</NodePath></Item13></Children><NodePath>guarantyOrgID</NodePath></Item0><Item1 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>3</Row><Col>8</Col></Cell></Item1><Item2 Class="Text"><Variable>=$.loadSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Cell><Row>3</Row><Col>7</Col></Cell></Item2><Item3 Class="Label"><Text>担保集团业务总计</Text><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Cell><Row>3</Row><Col>1</Col><ColSpan>6</ColSpan></Cell></Item3><Item4 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>15</Col></Cell></Item4><Item5 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>11</Col></Cell></Item5><Item6 Class="Text"><Variable>=$.payCapitalSum.sum()</Variable><Border><StyleText>border:1.0px solid #000000</StyleText></Border><Font><Face>宋体</Face><Style>1</Style><Size>12</Size></Font><HorizontalAlignment>1</HorizontalAlignment><Format Class="DecimalFormat"><Pattern>#,##0.000000</Pattern></Format><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>10</Col></Cell></Item6><Item7 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>17</Col></Cell></Item7><Item8 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>16</Col></Cell></Item8><Item9 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>14</Col></Cell></Item9><Item10 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>13</Col></Cell></Item10><Item11 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>12</Col></Cell></Item11><Item12 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>9</Col></Cell></Item12><Item13 Class="Text"><Border><StyleText>border:1.0px solid #000000</StyleText></Border><HorizontalAlignment>1</HorizontalAlignment><Wordwrap>true</Wordwrap><Cell><Row>3</Row><Col>0</Col></Cell></Item13></Children><NodePath>detail_free</NodePath></Item18></Children><ColumnWidths>60,80,80,80,80,80,258,111,111,150,90,111,102,87,105,111,80,80</ColumnWidths><RowHeights>30,30,30,30</RowHeights></Item0></Children><Type>102</Type></Item2></Children><PageFormat><Width>1891</Width><Height>813</Height><Left>17</Left><Top>23</Top><Right>11</Right></PageFormat></Page><NodeSource><Children ItemClass="DatasetNodeSource"><Item0><Children ItemClass="GroupNodeSource"><Item0><Children ItemClass="RowNodeSource"><Item0/></Children><Group><Field>guarantyOrgID</Field></Group></Item0></Children><Reader Class="SqlReader"><Name>detail_free</Name><Sql>SELECT
pa.`guarantyOrgName`,
pa.`guarantyOrgID`,
pa.`attributionID`,
pa.`oprationCompanyName`,
pa.`hostAreaName`,
pa.`attributionName`,
pp.projectName,
pp.loadSum,
pp.`subBankName`,
pp.bankName,pp.`delayBeginDate`,
pp.`delayEndDate`,
pp.amanName,
pp.bmanName,
temp.`payCapitalSum`,
temp.`remark`,
temp.`payDate`,
pp.beforeAManName,
pp.beforeBManName,
cc.relationMainName,
(pp.loadSum - 
(SELECT IFNULL(SUM(tp1.payCapitalSum), 0)
 FROM
 (SELECT payCapitalSum AS payCapitalSum,project_ID,payDate FROM pro_factpay 
UNION
 SELECT replaceCapitalSum AS payCapitalSum,project_ID,replaceDate AS payDate FROM pro_replace WHERE replaceCapitalSum IS NOT NULL AND replaceCapitalSum != '') 
AS tp1
 WHERE tp1.project_ID = temp.project_ID AND tp1.payDate &lt;= temp.payDate)) AS 'remainSUM' 
FROM 
(SELECT payCapitalSum AS payCapitalSum,remark AS remark,payDate AS payDate,project_ID AS project_ID FROM pro_factpay
 UNION ALL 
SELECT replaceCapitalSum AS payCapitalSum,remark AS remark,replaceDate AS payDate,project_ID AS project_ID FROM pro_replace WHERE replaceCapitalSum IS NOT NULL AND replaceCapitalSum != '') 
AS temp
LEFT JOIN pro_project pp ON temp.project_ID = pp.project_ID
LEFT JOIN pro_apply pa ON pa.`apply_ID` = pp.`apply_ID`
LEFT JOIN crm_client cc ON cc.`client_ID` = pa.`client_ID`
WHERE pp.`busiClass` = '01' AND temp.`payCapitalSum` &gt; 0
${has(begindatesql)?(" and temp.payDate&gt;='"+begindatesql+"'"):""}
${has(enddatesql)?(" and temp.payDate&lt;='"+enddatesql+"'"):""}
${has(wheresql)?(" and wheresql='"+wheresql+"'"):""}
ORDER BY pp.project_ID,temp.payDate asc</Sql><Description>SELECT
pa.`guarantyOrgName`,
pa.`guarantyOrgID`,
pa.`attributionID`,
pa.`oprationCompanyName`,
pa.`hostAreaName`,
pa.`attributionName`,
pp.projectName,
pp.loadSum,
pp.`subBankName`,
pp.bankName,pp.`delayBeginDate`,
pp.`delayEndDate`,
pp.amanName,
pp.bmanName,
temp.`payCapitalSum`,
temp.`remark`,
temp.`payDate`,
pp.beforeAManName,
pp.beforeBManName,
cc.relationMainName,
(pp.loadSum - 
(SELECT IFNULL(SUM(tp1.payCapitalSum), 0)
 FROM
 (SELECT payCapitalSum AS payCapitalSum,project_ID,payDate FROM pro_factpay 
UNION
 SELECT replaceCapitalSum AS payCapitalSum,project_ID,replaceDate AS payDate FROM pro_replace WHERE replaceCapitalSum IS NOT NULL AND replaceCapitalSum != '') 
AS tp1
 WHERE tp1.project_ID = temp.project_ID AND tp1.payDate &lt;= temp.payDate)) AS 'remainSUM' 
FROM 
(SELECT payCapitalSum AS payCapitalSum,remark AS remark,payDate AS payDate,project_ID AS project_ID FROM pro_factpay
 UNION ALL 
SELECT replaceCapitalSum AS payCapitalSum,remark AS remark,replaceDate AS payDate,project_ID AS project_ID FROM pro_replace WHERE replaceCapitalSum IS NOT NULL AND replaceCapitalSum != '') 
AS temp
LEFT JOIN pro_project pp ON temp.project_ID = pp.project_ID
LEFT JOIN pro_apply pa ON pa.`apply_ID` = pp.`apply_ID`
LEFT JOIN crm_client cc ON cc.`client_ID` = pa.`client_ID`
WHERE pp.`busiClass` = '01' AND temp.`payCapitalSum` &gt; 0
${has(begindatesql)?(" and temp.payDate&gt;='"+begindatesql+"'"):""}
${has(enddatesql)?(" and temp.payDate&lt;='"+enddatesql+"'"):""}
${has(wheresql)?(" and wheresql='"+wheresql+"'"):""}
ORDER BY pp.project_ID,temp.payDate asc</Description><Connection><Driver>${property("proxool.driverClassName")}</Driver><User>${property("proxool.username")}</User><Password>${property("proxool.password")}</Password><Url>${property("proxool.url")}</Url></Connection></Reader><TagName>detail_free</TagName></Item0><Item1><Children ItemClass="IndexNodeSource"><Item0><IndexFields Len="1">id</IndexFields><TagName>index_dic_guaranty</TagName></Item0></Children><Reader Class="SqlReader"><Name>dic_guarantyOrgName</Name><Sql>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = '78ae83f6524d458dbbd522324c80723d'   </Sql><Description>SELECT 
     dic.dicTypeID  AS id,
     dic.dicTypeName AS name
     
    FROM 
    c_dictype  dic 
     WHERE  dic.dicTypePID  = '78ae83f6524d458dbbd522324c80723d'   </Description><Connection><Driver>${property("proxool.driverClassName")}</Driver><User>${property("proxool.username")}</User><Password>${property("proxool.password")}</Password><Url>${property("proxool.url")}</Url></Connection></Reader><IndexFields Len="1">id</IndexFields><TagName>dic_guarantyOrgName</TagName></Item1></Children></NodeSource></jatools>